# java-racingcar-precours

# 자동차 경주 [프리코스2주차]

### 기능 목록

- [x] 자동차들 이름 입력받기 ("," 기준 / 영어/한글 상관없이 5자 이하만 가능)
- [x] Message관리 하는 class 생성
- [x] '몇 번의 시도를 할것인가' 입력받기
- [x] 0~9에서 무작위 값 추출 함수 구현
- [x] 각 자동차 함수 넣어서 >=4 이면 전진
- [x] 이름가진 자동차 객체들 생성
- [x] 시도 하나 할 때마다 자동차 위치 출력 함수 구현
- [x] 우승한 자동차 이름 출력

### 예외처리

- [x] **사용자가 잘못된 값 입력할 경우 IllegalArgumentException 발생. 어플리케이션 종료**
    - [x] 이름 입력시 5자가 넘어갈 경우
    - [x] 이름 입력시 구분자가 "," 가 아닐경우 (당연히 5자가 넘어가겠죠?)
    - [x] 이름이 중복됐을 경우
    - [x] 이름이 공백일 경우
    - [x] ","가 연속으로 두번 나왔을 경우
    - [x] ","로 끝났을 경우
    - [x] 횟수가 양의 정수가 아닐 경우

### 테스트 작성

- [x] **Validator (유효성 검사) 테스트**
    - [x] 자동차 이름이 5자를 초과할 때 `IllegalArgumentException` 발생하는지 테스트
    - [x] 자동차 이름이 중복될 때 `IllegalArgumentException` 발생하는지 테스트
    - [x] 자동차 이름이 공백/빈 문자열일 때 `IllegalArgumentException` 발생하는지 테스트
    - [x] 시도 횟수가 숫자가 아닐 때 `IllegalArgumentException` 발생하는지 테스트
    - [x] 시도 횟수가 음수일 때 `IllegalArgumentException` 발생하는지 테스트
    - [x] 시도 횟수가 0일 때 `IllegalArgumentException` 발생하는지 테스트
- [x] **Car (자동차) 기능 테스트**
    - [x] 랜덤 숫자가 4 이상일 때, 자동차의 `position`이 1 증가하는지 테스트
    - [x] 랜덤 숫자가 3 이하일 때, 자동차의 `position`이 0을 유지하는지 테스트
- [x] **RacingGame (게임 로직) 테스트**
    - [x] 단독 우승자를 올바르게 선별하는지 테스트
    - [x] 공동 우승자를 올바르게 선별하는지 테스트

---

## 프로젝트 소개

N대의 자동차 이름을 입력받아 경주를 진행하는 콘솔 애플리케이션입니다. <br>
각 자동차는 매 턴마다 0~9 사이의 무작위 값을 부여받아, **4 이상일 경우 한 칸씩 전진**합니다. <br>
주어진 횟수만큼 진행한 후 가장 멀리 간 자동차(들)를 최종 우승자로 선정합니다.

## 핵심 학습 내용/고민한 점

- 객체지향 설계 (OOP)의 이해
    - 책임을 기준으로 코드를 나누는 법
    - 클래스들 간의 협력 구조
    - private를 이용한 캡슐화
    - this를 쓰는 이유
- 테스트 코드 작성의 중요성
    - 내 코드가 '정확히' 동작하는지 '스스로' 검증하는 것의 중요성
    - JUnit5 & AssertJ 사용법
    - 놓치기 쉬운 예외 상황을 사용자 입장에서 분석
- Java 컬렉션의 활용
    - List, ArrayList, Set, HashSet의 상황별 사용
- 예외 처리 설계
    - 검증 클래스`Valitator`를 따로 생성하여 책임 분리

## 어려웠던 점 및 해결과정

- 객체지향 설계를 처음 해봤기 때문에 Class를 나누고 여러 메소드 들을 만드는 것에 어려움이 있었습니다.
    - [프리코스 1주차 코드리뷰]를 통해 OOP가 잘 되어있는 동료 지원자의 코드를 열심히 공부하였습니다.
    - 코드들을 A4로 프린트하여 전체적인 흐름을 파악하였습니다.
    - 약간의 흠이 발견되어 code review 도 남겨보았습니다. (기분이 굉장히 좋았습니다)
- 초반 README에 어떤 기능들을 구현해야 하는지 설계하는 것이 힘들었습니다.
    - 일단 큰 단위로 나누고, 조금씩 조금씩 나누어갔습니다. 한번에 readme를 완성한 다는것은 쉽지 않다는 것을 깨달았습니다.
- 여러가지 예외처리를 구현하는 것이 힘들었습니다.
    - 사용자 입장에서 어떤 입력들을 할까?를 생각하는 것이 핵심이었습니다. 그 생각을 한 뒤 훨씬 설계하는데 수월해졌습니다.
- JUnit 5와 AssertJ 사용법을 익히는 것이 쉽지 않았습니다.
    - 과제물에 있는 문서들을 정독해보았고, 실제로 짜보니 어렵지만은 않았습니다.
    - 이것을 바탕으로 다음주차부터는 TDD(Test Driven Development)를 도전해 볼 계획입니다.
- 코드를 짜다가 30분 고민 후 도저히 모르겠는 것은 AI의 도움을 받았습니다.
    - 최대한 고민을 많이 하려 노력했습니다. AI를 선생님이라 생각하고 모르는 것을 DFS로 질문하여 내 것으로 만들었습니다.
    - 완전히 내 것으로 만들기 위해 처음부터 끝까지 나만의 힘으로 코드를 짜는 연습을 해보았습니다.
    - 나의 코드를 A4로 출력하여 전체 흐름이 어떻게 흘러가는지 내 방 벽에 붙혀놓고 보니 정말 많은 도움이 되었습니다.

## 설계 과정

- **단일 `racingcar` 패키지 사용:**
    - 규모가 크지 않고, 관련된 클래스들이 명확하여 단일 패키지가 가독성과 관리 측면에서 더 효율적이라고 판단했습니다. (`view`, `domain` 등으로 나누는 것은 오버 엔지니어링이라 생각했습니다.)
    - 객체지향의 기본인 **클래스 단위 책임 분리**에 집중했습니다.
- **`Messages` 클래스 분리:**
    - 1주차 코드 리뷰할 때 지원자 중 한분의 PR을 참고하여 사용자에게 보여지는 모든 문자열(프롬프트, 오류 메시지)을 상수로 관리하는 `Messages` 클래스를 생성했습니다.
    - 이를 통해 **코드 내 매직 스트링을 제거**하고, **유지보수성**을 높였습니다. (`Messages.java` 파일만 수정하면 모든 문구 변경 가능)
- **`Validator` 클래스 분리:**
    - `InputView`의 책임을 '입력'에만 집중시키기 위해, 입력값 검증 로직을 `Validator` 클래스로 분리했습니다. (단일 책임 원칙)
- **프로그래밍 요구사항 준수:**
    - indent depth 2단계를 지키기 위해 `if`문이나 `for`문이 깊어지는 부분을 적극적으로 메서드로 분리했습니다. (예: `RacingGame`의 `selectWinners` 분리)
    - 각 메서드가 한 가지 책임만 갖도록 최대한 작게 구현하려고 노력했습니다.
